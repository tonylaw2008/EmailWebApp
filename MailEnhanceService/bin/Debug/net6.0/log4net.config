<?xml version="1.0" encoding="utf-8"?>
<log4net>
	<!--
	log4net 要求配置文件的 根节点必须是 <log4net>，而非其他名称（如 <configuration> 或自定义节点）。
	如果配置文件结构不正确（例如使用了 .NET 配置文件的标准结构），就会触发该错误。
	-->
	<!-- 設定 Quartz 日誌等級為 ERROR -->
	<logger name="org.quartz" level="ERROR" />

	<!-- 新增控制台Appender -->
	<appender name="ConsoleAppender" type="log4net.Appender.ConsoleAppender">
		<layout type="log4net.Layout.PatternLayout">
			<!-- 控制台日誌格式（可與文件日誌相同或不同）-->
			<conversionPattern value="[%date] [thread%thread] [%level] [%method] [%message%]%newline" />
		</layout>
	</appender>
	
	<!-- 捲動檔案Appender設定 -->
	<appender name="RollingLogFileAppender" type="log4net.Appender.RollingFileAppender">
		<!-- 日誌檔案路徑（資料夾） -->
		<file value="logs/log4net" />
		<!-- 追加至現有文件 -->
		<appendToFile value="true" />
		<!-- 捲動方式：按日期捲動 -->
		<rollingStyle value="Date" />
		<!-- 不使用靜態檔名（配合日期捲動） -->
		<staticLogFileName value="false" />
		<!-- 日期格式（產生的檔案名稱格式） -->
		<datePattern value="yyyy-MM-dd'.log'" />
		<!-- 最大備份檔案數 -->
		<maxSizeRollBackups value="10" />
		<!-- 單一檔案最大尺寸（當捲動方式包含Size時生效） -->
		<maximumFileSize value="10MB" />
		<!-- 日誌格式佈局 -->
		<layout type="log4net.Layout.PatternLayout">
			<conversionPattern value="[%date] [thread%thread] [%level] [%method] [%message%]%newline" />
		</layout>
	</appender>

	<!-- 根日誌配置 -->
	<root>
		<level value="ALL" />
		<appender-ref ref="RollingLogFileAppender" />
		<appender-ref ref="ConsoleAppender" /> 
	</root>
</log4net>